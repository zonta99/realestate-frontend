<div class="dashboard-container">
  <!-- Header Section -->
  <mat-card class="dashboard-header" appearance="outlined">
    <mat-card-content>
      <div class="header-content">
        <h1>Welcome back, {{ userDisplayInfo().fullName }}!</h1>
        <p class="subtitle">Here's what's happening in your real estate business</p>
      </div>
      <div class="header-actions">
        <mat-chip-set class="role-chips">
          <mat-chip [class]="getRoleChipClass()">
            <mat-icon>{{ getRoleIcon() }}</mat-icon>
            {{ getPrimaryRole() }}
          </mat-chip>
        </mat-chip-set>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Quick Stats Grid -->
  <div class="stats-section">
    <h2 class="section-title">Overview</h2>
    <div class="stats-grid">
      <mat-card class="stat-card properties-card" appearance="outlined">
        <mat-card-content>
          <div class="stat-content">
            <div class="stat-icon-container properties">
              <mat-icon class="stat-icon">home</mat-icon>
            </div>
            <div class="stat-details">
              <span class="stat-number">24</span>
              <span class="stat-label">Active Properties</span>
              <div class="stat-trend positive">
                <mat-icon>trending_up</mat-icon>
                <span>+12%</span>
              </div>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <mat-card class="stat-card customers-card" appearance="outlined">
        <mat-card-content>
          <div class="stat-content">
            <div class="stat-icon-container customers">
              <mat-icon class="stat-icon">people</mat-icon>
            </div>
            <div class="stat-details">
              <span class="stat-number">12</span>
              <span class="stat-label">Active Customers</span>
              <div class="stat-trend positive">
                <mat-icon>trending_up</mat-icon>
                <span>+8%</span>
              </div>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <mat-card class="stat-card deals-card" appearance="outlined">
        <mat-card-content>
          <div class="stat-content">
            <div class="stat-icon-container deals">
              <mat-icon class="stat-icon">handshake</mat-icon>
            </div>
            <div class="stat-details">
              <span class="stat-number">8</span>
              <span class="stat-label">Pending Deals</span>
              <div class="stat-trend neutral">
                <mat-icon>trending_flat</mat-icon>
                <span>0%</span>
              </div>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <mat-card class="stat-card revenue-card" appearance="outlined">
        <mat-card-content>
          <div class="stat-content">
            <div class="stat-icon-container revenue">
              <mat-icon class="stat-icon">attach_money</mat-icon>
            </div>
            <div class="stat-details">
              <span class="stat-number">$2.4M</span>
              <span class="stat-label">Monthly Revenue</span>
              <div class="stat-trend positive">
                <mat-icon>trending_up</mat-icon>
                <span>+24%</span>
              </div>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="quick-actions">
    <h2 class="section-title">Quick Actions</h2>
    <div class="actions-grid">
      @if (canCreateProperties()) {
        <mat-card class="action-card" routerLink="/properties/new" appearance="outlined">
          <mat-card-content>
            <mat-icon class="action-icon">add_home</mat-icon>
            <h3>Add Property</h3>
            <p>List a new property</p>
          </mat-card-content>
        </mat-card>
      }

      @if (canManageCustomers()) {
        <mat-card class="action-card" routerLink="/customers/new" appearance="outlined">
          <mat-card-content>
            <mat-icon class="action-icon">person_add</mat-icon>
            <h3>Add Customer</h3>
            <p>Create new lead</p>
          </mat-card-content>
        </mat-card>
      }

      <mat-card class="action-card" routerLink="/properties" appearance="outlined">
        <mat-card-content>
          <mat-icon class="action-icon">search</mat-icon>
          <h3>Browse Properties</h3>
          <p>View all listings</p>
        </mat-card-content>
      </mat-card>

      @if (canManageUsers()) {
        <mat-card class="action-card" routerLink="/users" appearance="outlined">
          <mat-card-content>
            <mat-icon class="action-icon">group</mat-icon>
            <h3>Manage Team</h3>
            <p>View team members</p>
          </mat-card-content>
        </mat-card>
      }
    </div>
  </div>

  <!-- Recent Activity -->
  <div class="recent-activity">
    <mat-card appearance="outlined">
      <mat-card-header>
        <mat-card-title>Recent Activity</mat-card-title>
        <mat-card-subtitle>Your latest updates</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="activity-list">
          <div class="activity-item">
            <div class="activity-icon-container">
              <mat-icon>home</mat-icon>
            </div>
            <div class="activity-details">
              <p><strong>New property added:</strong> 123 Main Street</p>
              <span class="activity-time">2 hours ago</span>
            </div>
          </div>
          <div class="activity-item">
            <div class="activity-icon-container">
              <mat-icon>person</mat-icon>
            </div>
            <div class="activity-details">
              <p><strong>Customer inquiry:</strong> John Doe interested in downtown condo</p>
              <span class="activity-time">4 hours ago</span>
            </div>
          </div>
          <div class="activity-item">
            <div class="activity-icon-container">
              <mat-icon>handshake</mat-icon>
            </div>
            <div class="activity-details">
              <p><strong>Deal closed:</strong> 456 Oak Avenue - $650,000</p>
              <span class="activity-time">1 day ago</span>
            </div>
          </div>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button color="primary">View All Activity</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
